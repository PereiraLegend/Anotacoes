<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:h="http://xmlns.jcp.org/jsf/html" xmlns:f="http://xmlns.jcp.org/jsf/core"> 
    <h:head>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
        <title>Dashboard</title>
        <script>
            function CadastroC() {
                window.location.href = "CadastroProfissionais.xhtml";
            }
            
            function carregarProfissionais() {
                fetch('http://localhost:8080/user')
                .then(response => response.json())
                .then(data => {
                    const tableBody = document.querySelector('#profissionaisTable tbody');

                    // Limpa o conteúdo da tabela antes de adicionar os novos dados
                    tableBody.innerHTML = '';

                    // Loop pelos dados recebidos e adiciona-os à tabela
                    data.forEach(profissional => {
                        const row = document.createElement('tr');
                        row.innerHTML = `
                            <td>${profissional.nome}</td>
                            <td>${profissional.email}</td>
                            <td>${profissional.telefone}</td>
                            <!-- Adicione mais colunas conforme necessário -->
                        `;
                        tableBody.appendChild(row);
                    });
                })
                .catch(error => console.error('Erro ao carregar os dados:', error));
            }

            // Chama a função ao carregar a página para preencher a tabela
            window.onload.href = Dashboard.xhtml;
            
        </script>
    </h:head>
    <h:body>
        <h:form>
            <h1>CREA Simplificado - Dashboard</h1>
            <h:panelGrid>
            
                <h2>Profissionais</h2>
                <!-- Tabela com profissionais e outras funcionalidades -->
                    <table id="profissionaisTable">
				        <thead>
				            <tr>
				                <th>Nome</th>
				                <th>Email</th>
				                <th>Telefone</th>
				                <!-- Adicione outras colunas conforme necessário -->
				            </tr>
				        </thead>
				        <tbody>
				            <!-- Aqui serão adicionadas as linhas da tabela -->
				        </tbody>
				    </table>
                
                <h2>Cadastrar Novo Usuário Corporativo:</h2>
                <!-- Usando um botão HTML padrão -->
                <button onclick="CadastroC()" style="width: 158px;">Cadastrar</button>
                
                <h2>Usuários corporativos</h2>
                <!-- Tabela com usuários corporativos e outras funcionalidades -->
            
            </h:panelGrid>
        </h:form>
    </h:body>
</html>
